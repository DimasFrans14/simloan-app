<div>
  <app-header></app-header>
  <app-sidebar></app-sidebar>

  <div id="header" class="header">
    <div class="col-12 bg-white sub-nav border-top">
      <div class="d-flex justify-content-between align-items-center">
        <div class="d-flex justify-content-center align-items-center">
          <div class="me-2">
            <h4>Overview</h4>
          </div>

          <!-- <mat-form-field>
            <mat-label class="label-datepicker">Pilih Tahun</mat-label>

            <input #datePickerValue matInput [matDatepicker]="picker"  autocomplete="off" [value]="valueYear | date: 'yyyy'" readonly style="color: black;">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker startView="multi-year" (yearSelected)="getYear($event)"></mat-datepicker>
          </mat-form-field> -->

          <mat-form-field class="me-2 date-field">
            <mat-label class="label-datepicker">Pilih Tahun</mat-label>
            <input
              #datePickerValue1
              matInput
              [matDatepicker]="picker1"
              [value]="valueYear | date : 'yyyy'"
              autocomplete="off"
              disabled
              style="color: black"
            />
            <mat-datepicker-toggle
              matSuffix
              [for]="picker1"
            ></mat-datepicker-toggle>
            <mat-datepicker
              #picker1
              disabled="false"
              startView="multi-year"
              (yearSelected)="getYear($event)"
            ></mat-datepicker>
          </mat-form-field>

          <!-- <mat-form-field class="me-2 date-field">
            <mat-label class="label-datepicker">Pilih Tahun 2</mat-label>
            <input #datePickerValue2 matInput [matDatepicker]="picker2" [value]="valueYear2 | date: 'yyyy'" autocomplete="off" disabled style="color: black;">
            <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
            <mat-datepicker #picker2 disabled="false" startView="multi-year" (yearSelected)="getYear2($event)"></mat-datepicker>
          </mat-form-field> -->

          <div class="dropdown">
            <button
              class="btn btn-light bg-transparant border border-dark-subtle dropdown-toggle me-2"
              type="button"
              id="buttonMonth"
              data-bs-toggle="dropdown"
              aria-expanded="false"
            >
              Pilih Bulan
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <ng-container *ngFor="let item of listMonth">
                <li>
                  <a
                    class="dropdown-item"
                    style="cursor: pointer"
                    (click)="getValueMonth(item.month)"
                    id="item.id"
                    >{{ item.month }}</a
                  >
                </li>
              </ng-container>
            </ul>
          </div>

          <button
            type="button"
            class="btn btn-primary me-2"
            style="font-size: 14px"
          >
            Cari
          </button>

          <button
            type="button"
            class="btn btn-light border border-dark-subtle me-2"
            style="font-size: 14px"
          >
            Reset
          </button>
        </div>

        <div>
          <button
            class="bg-light rounded p-3 me-5"
            style="border: none"
            type="button"
          >
            <i class="bi bi-download"></i>
          </button>
        </div>
      </div>
    </div>
  </div>

  <main id="main" class="main">

    <div class="d-flex justify-content-between align-items-center mb-3">
      <!-- Currency -->
      <div>
        <h4 class="mt-4">Summary</h4>
      </div>
      <div>
        <!-- <button
          class="btn btn-transparant btn-sm border border-1 px-3 bg-white"
          (click)="compare()"
          [innerHTML]="isCompare ? 'Close' : 'Compare'"
        ></button> -->
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-12 p-2 bg-white rouded">
        <div class="bg-white">
          <div class="d-flex justify-content-between align-items-center p-3">
            <div>
              <h5>Analisa Total Shareholder Loan</h5>
            </div>

            <div class="d-flex justify-content-center align-items-center">
              <div>
                <button
                [class]="isActiveButtonBulanan ? buttonBulananTahunanActive : buttonBulananTahunanInactive"
                (click)="analisaTotalSHLBulanan()"
                >
                Bulanan
              </button>
              </div>
              <div>
                <button
                [class]="isActiveButtonTahunan ? buttonBulananTahunanActive : buttonBulananTahunanInactive"
                (click)="analisaTotalSHLTahunan()"
                >
                Tahunan
              </button>
              </div>
            </div>
          </div>
          <apx-chart
          [series]="totalSHLChartSeries"
          [chart]="summaryTotalSHLChart"
          [xaxis]="xAxisTotalSHLChart"
          [colors]="totalSHLChartColor"
          [dataLabels]="totalSHLDataLabel"
        ></apx-chart>
        </div>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-12 p-2 bg-white rouded">
        <div class="bg-white">
          <div class="d-flex justify-content-between align-items-center p-3">
            <div>
              <h5>Analisa Availability Period Shareholder Loan</h5>
            </div>

            <div class="d-flex justify-content-center align-items-center">
              <div>
                <button
                [class]="isActiveButtonBulanan ? buttonBulananTahunanActive : buttonBulananTahunanInactive"
                (click)="analisaTotalSHLBulanan()"
                >
                Bulanan
              </button>
              </div>
              <div>
                <button
                [class]="isActiveButtonTahunan ? buttonBulananTahunanActive : buttonBulananTahunanInactive"
                (click)="analisaTotalSHLTahunan()"
                >
                Tahunan
              </button>
              </div>
            </div>
          </div>
          <apx-chart
          [series]="totalSHLChartSeries"
          [chart]="summaryTotalSHLChart"
          [xaxis]="xAxisTotalSHLChart"
          [colors]="totalSHLChartColor"
          [dataLabels]="totalSHLDataLabel"
        ></apx-chart>
        </div>
      </div>
    </div>

    <div
      class="d-flex justify-content-between align-items-center flex-wrap mb-4"
    >
      <div class="me-2 bg-white rounded p-2">
        <h5>Total SHL</h5>
        <apx-chart
          [series]="totalSHLChartSeries"
          [chart]="totalSHLChart"
          [xaxis]="xAxisTotalSHLChart"
          [colors]="totalSHLChartColor"
          [dataLabels]="totalSHLDataLabel"
        ></apx-chart>
      </div>
      <div class="bg-white rounded p-2">
        <h5>Availability Period</h5>
        <apx-chart
          [series]="totalSHLChartSeries"
          [chart]="totalSHLChart"
          [xaxis]="xAxisTotalSHLChart"
          [colors]="totalSHLChartColor"
          [dataLabels]="totalSHLDataLabel"
        ></apx-chart>
      </div>
    </div>

    <div
      class="d-flex justify-content-between align-items-center bg-white p-3 rounded mb-4"
    >
      <div class="d-flex justify-content-center align-items-center">
        <div class="rounded-circle p-3 bg-transparant">
          <i class="bi bi-buildings"></i>
        </div>
        <div class="d-flex flex-column">
          <div class="dropdown">
            <button
              class="btn btn-transparant bg-transparant border border-0 dropdown-toggle"
              type="button"

              data-bs-toggle="dropdown"
              aria-expanded="false"
            >
              <span class="fw-bold" id="namePerusahaan">PT. PLN ICON PLUS</span>
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <ng-container *ngFor="let item of listPerusahaan">
                <li>
                  <a
                    class="dropdown-item"
                    style="cursor: pointer"
                    (click)="getValuePerusahaan(item.name)"
                    id="item.id"
                    >{{ item.name }}</a
                  >
                </li>
              </ng-container>
            </ul>
          </div>
          <span>3 Perjanjian</span>
        </div>
      </div>

      <div class="dropdown">
        <button
          class="btn btn-light bg-transparant border border-dark-subtle dropdown-toggle me-2"
          type="button"
          id="buttonMonth"
          data-bs-toggle="dropdown"
          aria-expanded="false"
        >
          All Agreement
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
          <ng-container *ngFor="let item of listMonth">
            <li>
              <a
                class="dropdown-item"
                style="cursor: pointer"
                (click)="getValueMonth(item.month)"
                id="item.id"
                >{{ item.month }}</a
              >
            </li>
          </ng-container>
        </ul>
      </div>
    </div>

    <div
      class="d-flex justify-content-between align-items-center flex-wrap mb-4"
    >
      <div class="me-2 mb-3 bg-white rounded p-3">
        <div class="container">
          <h5>Total Analisa SHL</h5>
          <div class="">
            <!-- card kiri -->
            <!-- <div class="col-4 mt-3"> -->
              <div class="card" id="card">
                <div class="mb-2" style="width: 35vw; height:auto;">
                  <!-- <div class="d-flex mt-3">
                    <div class="avatar justify-content-start align-self-center">
                      <img src="assets/icon/building-06.svg" alt="" />
                    </div>
                    <div class="d-flex flex-column title flex-fill">
                      <div
                        *ngFor="let item of data"
                        class="fw-bold title"
                        style="color: var(--color-silver-950, #0c0c0f)"
                      >
                        {{ item.nama_anak_perusahan }}
                      </div>
                      <div
                        class="-title"
                        *ngFor="let item of data"
                        style="color: #9a9a9a; font-size: 10px"
                      >
                        {{ item.nomor_kontrak }}
                      </div>
                    </div>
                    <div
                      class="btn align-self-center"
                      routerLink="/detail_agreement"
                      routerLinkActive="active"
                    >
                      <i class="bi bi-arrow-up-right"></i>
                    </div>
                  </div> -->
                  <!-- progress-bar pagu -->
                  <div class="d-flex align-items-center">
                    <div><label for="">Total Pagu</label></div>
                    <!-- tooltip -->
                    <div id="tooltip" class="flex-fill">
                      <span id="tooltipText">
                        <span id="bottom">
                          <div class="card">
                            <div class="container">
                              <div class="d-flex flex-column">
                                <div class="mt-3">
                                  Total Pagu - 3 Perjanjian
                                </div>
                                <div>
                                  <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="248"
                                    height="2"
                                    viewBox="0 0 248 2"
                                    fill="none"
                                  >
                                    <path
                                      d="M0 1L248 0.999978"
                                      stroke="#E4E4E4"
                                    />
                                  </svg>
                                </div>
                                <div
                                  class="card-text"
                                  style="font-size: 14px; color: #b4b4b4"
                                >
                                  0132-1.PJ/KEU.01.09/B01060100/2020
                                </div>
                                <div class="fw-bold">Rp 104.032.323,00</div>
                                <div>
                                  <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="248"
                                    height="2"
                                    viewBox="0 0 248 2"
                                    fill="none"
                                  >
                                    <path
                                      d="M0 1L248 0.999978"
                                      stroke="#E4E4E4"
                                    />
                                  </svg>
                                </div>
                                <div
                                  class="card-text"
                                  style="font-size: 14px; color: #b4b4b4"
                                >
                                  0132-1.PJ/KEU.01.09/B01060100/2020
                                </div>
                                <div class="fw-bold">Rp 104.032.323,00</div>
                                <div>
                                  <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="248"
                                    height="2"
                                    viewBox="0 0 248 2"
                                    fill="none"
                                  >
                                    <path
                                      d="M0 1L248 0.999978"
                                      stroke="#E4E4E4"
                                    />
                                  </svg>
                                </div>
                                <div
                                  class="card-text"
                                  style="font-size: 14px; color: #b4b4b4"
                                >
                                  0132-1.PJ/KEU.01.09/B01060100/2020
                                </div>
                                <div class="fw-bold">Rp 104.032.323,00</div>
                              </div>
                            </div>
                          </div>
                        </span>
                      </span>
                      <span
                        ><img src="assets/icon/info-circle.svg" alt=""
                      /></span>
                    </div>
                    <!-- end tooltip -->
                    <div class="nominal" *ngFor="let item of data">
                      {{ item.total_pagu }}
                    </div>
                    <div class="progress-bar" style="width: 10%">25%</div>
                  </div>
                  <div
                    class="progress"
                    role="progressbar"
                    aria-label="Basic example"
                    aria-valuenow="25"
                    aria-valuemin="0"
                    aria-valuemax="100"
                  >
                    <div class="progress-bar" style="width: 25%"></div>
                  </div>
                  <!-- progress-bar total penarikan -->
                  <div class="d-flex align-items-center">
                    <div><label for="">Total Penarikan</label></div>
                    <!-- tooltip -->
                    <div id="tooltip" class="flex-fill">
                      <span id="tooltipText">
                        <span id="bottom">
                          <div class="card">
                            <div class="container">
                              <div class="d-flex flex-column">
                                <div class="mt-3">Penarikan - 3 Penarikan</div>
                                <div>
                                  <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="248"
                                    height="2"
                                    viewBox="0 0 248 2"
                                    fill="none"
                                  >
                                    <path
                                      d="M0 1L248 0.999978"
                                      stroke="#E4E4E4"
                                    />
                                  </svg>
                                </div>
                                <div
                                  class="card-text"
                                  style="font-size: 14px; color: #b4b4b4"
                                >
                                  0132-1.PJ/KEU.01.09/B01060100/2020
                                </div>
                                <div class="fw-bold">Rp 104.032.323,00</div>
                                <div>
                                  <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="248"
                                    height="2"
                                    viewBox="0 0 248 2"
                                    fill="none"
                                  >
                                    <path
                                      d="M0 1L248 0.999978"
                                      stroke="#E4E4E4"
                                    />
                                  </svg>
                                </div>
                                <div
                                  class="card-text"
                                  style="font-size: 14px; color: #b4b4b4"
                                >
                                  0132-1.PJ/KEU.01.09/B01060100/2020
                                </div>
                                <div class="fw-bold">Rp 104.032.323,00</div>
                                <div>
                                  <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="248"
                                    height="2"
                                    viewBox="0 0 248 2"
                                    fill="none"
                                  >
                                    <path
                                      d="M0 1L248 0.999978"
                                      stroke="#E4E4E4"
                                    />
                                  </svg>
                                </div>
                                <div
                                  class="card-text"
                                  style="font-size: 14px; color: #b4b4b4"
                                >
                                  0132-1.PJ/KEU.01.09/B01060100/2020
                                </div>
                                <div class="fw-bold">Rp 104.032.323,00</div>
                              </div>
                            </div>
                          </div>
                        </span>
                      </span>
                      <span
                        ><img src="assets/icon/info-circle.svg" alt=""
                      /></span>
                    </div>
                    <!-- end tooltip -->
                    <div class="nominal" *ngFor="let item of data">
                      {{ item.total_penarikan }}
                    </div>
                    <div class="progress-bar" style="width: 10%">25%</div>
                  </div>
                  <div
                    class="progress"
                    role="progressbar"
                    aria-label="Basic example"
                    aria-valuenow="25"
                    aria-valuemin="0"
                    aria-valuemax="100"
                  >
                    <div class="progress-bar" style="width: 25%"></div>
                  </div>
                  <!-- progress-bar total pembayaran -->
                  <div class="d-flex align-items-center">
                    <div><label for="">Total Pembayaran</label></div>
                    <!-- tooltip -->
                    <div id="tooltip" class="flex-fill">
                      <span id="tooltipText">
                        <span id="bottom">
                          <div class="card">
                            <div class="container">
                              <div class="d-flex flex-column">
                                <div class="mt-3">
                                  Total Pembayaran - 3 Pembayaran
                                </div>
                                <div>
                                  <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="248"
                                    height="2"
                                    viewBox="0 0 248 2"
                                    fill="none"
                                  >
                                    <path
                                      d="M0 1L248 0.999978"
                                      stroke="#E4E4E4"
                                    />
                                  </svg>
                                </div>
                                <div
                                  class="card-text"
                                  style="font-size: 14px; color: #b4b4b4"
                                >
                                  0132-1.PJ/KEU.01.09/B01060100/2020
                                </div>
                                <div class="fw-bold">Rp 104.032.323,00</div>
                                <div>
                                  <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="248"
                                    height="2"
                                    viewBox="0 0 248 2"
                                    fill="none"
                                  >
                                    <path
                                      d="M0 1L248 0.999978"
                                      stroke="#E4E4E4"
                                    />
                                  </svg>
                                </div>
                                <div
                                  class="card-text"
                                  style="font-size: 14px; color: #b4b4b4"
                                >
                                  0132-1.PJ/KEU.01.09/B01060100/2020
                                </div>
                                <div class="fw-bold">Rp 104.032.323,00</div>
                                <div>
                                  <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="248"
                                    height="2"
                                    viewBox="0 0 248 2"
                                    fill="none"
                                  >
                                    <path
                                      d="M0 1L248 0.999978"
                                      stroke="#E4E4E4"
                                    />
                                  </svg>
                                </div>
                                <div
                                  class="card-text"
                                  style="font-size: 14px; color: #b4b4b4"
                                >
                                  0132-1.PJ/KEU.01.09/B01060100/2020
                                </div>
                                <div class="fw-bold">Rp 104.032.323,00</div>
                              </div>
                            </div>
                          </div>
                        </span>
                      </span>
                      <span
                        ><img src="assets/icon/info-circle.svg" alt=""
                      /></span>
                    </div>
                    <!-- end tooltip -->
                    <div class="nominal" *ngFor="let item of data">
                      {{ item.total_pembayaran }}
                    </div>
                    <div class="progress-bar" style="width: 10%">25%</div>
                  </div>
                  <div
                    class="progress"
                    role="progressbar"
                    aria-label="Basic example"
                    aria-valuenow="25"
                    aria-valuemin="0"
                    aria-valuemax="100"
                  >
                    <div class="progress-bar" style="width: 25%"></div>
                  </div>
                  <!-- progress-bar saldo -->
                  <div class="d-flex align-items-center">
                    <div><label for="">Saldo</label></div>
                    <!-- tool tip -->
                    <div id="tooltip" class="flex-fill">
                      <span id="tooltipText">
                        <span id="bottom">
                          <div class="card">
                            <div class="container">
                              <div class="d-flex flex-column">
                                <div class="mt-3">
                                  Total Saldo - 3 Perjanjian
                                </div>
                                <div>
                                  <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="248"
                                    height="2"
                                    viewBox="0 0 248 2"
                                    fill="none"
                                  >
                                    <path
                                      d="M0 1L248 0.999978"
                                      stroke="#E4E4E4"
                                    />
                                  </svg>
                                </div>
                                <div
                                  class="card-text"
                                  style="font-size: 14px; color: #b4b4b4"
                                >
                                  0132-1.PJ/KEU.01.09/B01060100/2020
                                </div>
                                <div class="fw-bold">Rp 104.032.323,00</div>
                                <div>
                                  <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="248"
                                    height="2"
                                    viewBox="0 0 248 2"
                                    fill="none"
                                  >
                                    <path
                                      d="M0 1L248 0.999978"
                                      stroke="#E4E4E4"
                                    />
                                  </svg>
                                </div>
                                <div
                                  class="card-text"
                                  style="font-size: 14px; color: #b4b4b4"
                                >
                                  0132-1.PJ/KEU.01.09/B01060100/2020
                                </div>
                                <div class="fw-bold">Rp 104.032.323,00</div>
                                <div>
                                  <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="248"
                                    height="2"
                                    viewBox="0 0 248 2"
                                    fill="none"
                                  >
                                    <path
                                      d="M0 1L248 0.999978"
                                      stroke="#E4E4E4"
                                    />
                                  </svg>
                                </div>
                                <div
                                  class="card-text"
                                  style="font-size: 14px; color: #b4b4b4"
                                >
                                  0132-1.PJ/KEU.01.09/B01060100/2020
                                </div>
                                <div class="fw-bold">Rp 104.032.323,00</div>
                              </div>
                            </div>
                          </div>
                        </span>
                      </span>
                      <span
                        ><img src="assets/icon/info-circle.svg" alt=""
                      /></span>
                    </div>
                    <!-- end tooltip -->
                    <div class="nominal" *ngFor="let item of data">
                      {{ item.saldo }}
                    </div>
                    <div class="progress-bar" style="width: 10%">25%</div>
                  </div>
                  <div
                    class="progress"
                    role="progressbar"
                    aria-label="Basic example"
                    aria-valuenow="25"
                    aria-valuemin="0"
                    aria-valuemax="100"
                  >
                    <div class="progress-bar" style="width: 25%"></div>
                  </div>
                  <!-- end progress-bar -->
                </div>
              </div>
            <!-- </div> -->
          </div>
        </div>
      </div>
      <div class="bg-white rounded p-2">
        <h5>Availability Period</h5>
        <apx-chart
          [series]="totalSHLChartSeries"
          [chart]="totalSHLChart"
          [xaxis]="xAxisTotalSHLChart"
          [colors]="totalSHLChartColor"
          [dataLabels]="totalSHLDataLabel"
        ></apx-chart>
      </div>
    </div>
  </main>
  <app-footer></app-footer>
</div>
