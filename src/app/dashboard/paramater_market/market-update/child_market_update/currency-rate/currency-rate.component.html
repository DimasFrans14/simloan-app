<div>
  <app-header></app-header>
  <app-sidebar></app-sidebar>
  <div id="header" class="header">
    <div class="col-12 bg-white sub-nav border-top">

      <div class="d-flex justify-content-between align-items-center">
        <div class="d-flex justify-content-center align-items-center">
          <div class="search search-bar me-2">
            <form class="search-form" method="POST" action="#">
              <input type="text" name="query" placeholder="Cari Nama Label" title="Enter search keyword" style="font-size: 14px;">
              <button type="submit" title="Search"><i class="bi bi-search"></i></button>
            </form>
          </div>
            <button type="button" class="btn btn-primary me-2" style="font-size: 14px;">Cari</button>
            <button class="btn btn-light bg-white me-2" style="font-size: 14px;"><i class="bi bi-calendar me-2"></i>Pilih Tanggal</button>
            <button type="button" class="btn btn-transparant border-light me-2" style="font-size: 14px;">Customizable Table</button>
            <button type="button" class="btn btn-transparant border-light me-2" style="font-size: 14px;">Reset</button>
        </div>
        <div>
          <button class="bg-light rounded p-3 me-5" style="border: none;" type="button">
            <i class="bi bi-download"></i>
          </button>
        </div>
      </div>

      <!-- Sub Menu -->
      <!-- <div class="d-flex justify-content-start align-items-center text-dark mt-3">
        <a class="submenu-market" style="margin-right: 24px; font-size: 14px; color: blue; border-bottom: 3px solid blue;">Currency Rate</a>
        <a class="submenu-market" style="margin-right: 24px; font-size: 14px;">Interest Rate</a>
        <a class="submenu-market" style="margin-right: 24px; font-size: 14px;">Bond Yield</a>
        <a class="submenu-market" style="margin-right: 24px; font-size: 14px;">Commodities</a>
        <a class="submenu-market" style="margin-right: 24px; font-size: 14px;">Macro Indicator</a>
        <a class="submenu-market" style="margin-right: 24px; font-size: 14px;">Key Takeways</a>
        <a class="submenu-market" style="margin-right: 24px; font-size: 14px;">Debt Services</a>
      </div> -->
      <!--End Sub Mmenu -->
    </div>

  </div>

  <main id="main" class="main">
    <div class="d-flex justify-content-between align-items-center">
      <div>
        <p class="text-secondary">
          <a routerLink="/market_update" class="text-secondary">
            <i class="bi bi-arrow-left me-2"></i>
            Back to Market Update
          </a>
        </p>
      </div>
      <div>
        <button class="btn btn-primary"><i class="bi bi-file-earmark-arrow-down me-2"></i>Import Laporan</button>
      </div>
    </div>
    <div class="d-flex justify-content-between align-items-center mt-5">
      <div>
        <h4>Currency Rate</h4>
      </div>
      <div class="modal fade" id="macroIndicatorModal" tabindex="-1" aria-labelledby="macroIndicatorModalLabel" aria-hidden="true" data-bs-backdrop="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="staticBackdropLabel">Modal title</h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">

            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary">Understood</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-12">
        <div class="text-primary" [style.display]="isLoading ? 'block' : 'none'">
          <div class="d-flex align-items-center justify-content-center">
            <div class="spinner-border" role="status">
            </div>
            <span class="text-dark ms-1">Memuat data tabel...</span>
          </div>
        </div>
        <div class="table-currencyDetail mt-2"></div>
      </div>
    </div>

    <div class="row mt-4">
      <!-- Table Realisasi -->
      <div class="col-6">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <span class="fw-semibold">Realisasi</span>
          </div>
        </div>
        <div class="text-primary" [style.display]="isLoading ? 'block' : 'none'">
          <div class="d-flex align-items-center justify-content-center">
            <div class="spinner-border" role="status">
            </div>
            <span class="text-dark ms-1">Memuat data tabel...</span>
          </div>
        </div>
        <div class="table-realisasi mt-2"></div>
      </div>
      <!-- EndTAble Realisasi -->
      <div class="col-6">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <span class="fw-semibold">RKAP</span>
          </div>
        </div>
        <div class="text-primary" [style.display]="isLoading ? 'block' : 'none'">
          <div class="d-flex align-items-center justify-content-center">
            <div class="spinner-border" role="status">
            </div>
            <span class="text-dark ms-1">Memuat data tabel...</span>
          </div>
        </div>
        <div class="table-RKAP mt-2"></div>
      </div>
    </div>
    <!-- Table Outlook -->
    <div class="row mt-4">
      <div class="col-6">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <span class="fw-semibold">Outlook</span>
          </div>
          <div>
            <button class="btn btn-transparant border-secondary bg-white" data-bs-toggle="modal" data-bs-target="#editOutlook" style="font-size: 14px;">Edit</button>
            <button class="btn btn-transparant border-secondary bg-white ms-1" style="font-size: 14px;">Tambah</button>
          </div>

          <!-- Modal -->
          <div class="modal fade" id="editOutlook" tabindex="-1" aria-labelledby="editOutlookLabel" aria-hidden="true" data-bs-backdrop="false">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h1 class="modal-title fs-5" id="staticBackdropLabel">RKAP</h1>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form (ngSubmit)="onSubmitOutlook()">
                <div class="modal-body">
                    <mat-form-field class="me-2 date-field">
                      <mat-label class="label-datepicker">Pilih Tanggal</mat-label>
                    <input #datePickerValue matInput [matDatepicker]="picker3" [max]="maxDate" autocomplete="off" disabled (dateChange)="onDate($event)" style="color: black;" name="tanggal" [(ngModel)]="formDataOutlook.tanggal">
                    <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
                    <mat-datepicker #picker3 color="primary" disabled="false" style="z-index: 3;"></mat-datepicker>
                  </mat-form-field>
                  <br/>
                  <label for="" class="fw-bold mb-1">Pilih Kurs</label>
                  <ng-select
                    [items]="dataDetail"
                    bindLabel="mata_uang"
                    bindValue="mata_uang"
                    [(ngModel)]="realisasiKursItem"
                    placeholder="Pilih Kurs"
                    (change)="realisasiKursSelect($event)"
                    name="nama_kurs"
                    [(ngModel)]="formDataOutlook.nama_kurs">
                  </ng-select>
                  <br/>
                  <!-- <input type="number" > -->
                  <label for="" class="fw-bold mb-1">Masukan Nilai</label>
                  <input class="form-control" type="number" placeholder="Masukan nilai kurs" aria-label="Masukan nilai kurs" name="nilai" id="nilai" #nilaiEditRealKurs [(ngModel)]="formDataOutlook.nilai_outlook">
                  <br/>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                  <button type="submit" class="btn btn-primary">Save</button>
                </div>
              </form>

              </div>
            </div>
          </div>

        </div>
        <div class="text-primary" [style.display]="isLoading ? 'block' : 'none'">
          <div class="d-flex align-items-center justify-content-center">
            <div class="spinner-border" role="status">
            </div>
            <span class="text-dark ms-1">Memuat data tabel...</span>
          </div>
        </div>
        <div class="table-outlook mt-2"></div>
      </div>
    </div>
    <!-- End Table Outlook -->
  </main>
</div>


